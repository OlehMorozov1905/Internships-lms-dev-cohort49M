### Vite

---

#### **Что такое Vite?**

**Vite** — это инструмент для сборки фронтенд-приложений. Основная цель Vite — сделать разработку быстрее и удобнее. Он был создан как альтернатива Webpack и другим сборщикам, которые иногда медленно обрабатывают современные приложения.

Vite использует современные браузерные функции (такие как ES-модули), чтобы сократить время загрузки и сборки проекта.

---

#### **Преимущества Vite**

1. **Мгновенный старт проекта:**
   - В отличие от Webpack (сборщик для create-react-app), Vite не нужно пересобирать проект перед запуском. Это позволяет практически мгновенно начать разработку.

2. **Быстрая горячая перезагрузка (HMR):**
   - Изменения в коде сразу видны в браузере без полной перезагрузки страницы, благодаря современному подходу к обработке модулей.

3. **Легкая настройка:**
   - Vite поставляется с минимальными настройками и работает "из коробки" для большинства проектов.

4. **Современная архитектура:**
   - Vite использует ES-модули во время разработки, а для продакшн-сборки применяет оптимизированные инструменты (например, Rollup).

5. **Поддержка TypeScript и JSX:**
   - Простая настройка для проектов с TypeScript или React, включая поддержку шаблонов.

6. **Меньшее время сборки:**
   - Сборка проекта для продакшна происходит быстрее благодаря использованию эффективных алгоритмов оптимизации.

---

#### **Запуск проекта с Vite**

Чтобы создать проект на основе Vite с использованием React и TypeScript, выполните следующие шаги:

---

**1. Установите Vite через `npm`:**

```bash
npm create vite@latest react-ts-app -- --template react-ts
```

- `react-ts-app` — имя создаваемого приложения (вы можете указать своё).
- `--template react-ts` — указывает, что мы создаем проект с React и TypeScript.

---

**2. Установите зависимости:**

После создания проекта перейдите в его папку и установите зависимости:

```bash
cd react-ts-app
npm install
```

---

**3. Запустите проект:**

Для старта проекта в режиме разработки выполните:

```bash
npm run dev
```

После запуска в консоли появится URL, например, `http://localhost:5173`. Перейдите по этому адресу в браузере.


#### **Что такое авторизация и зачем она нужна?**

**Авторизация** — это процесс проверки прав доступа пользователя к ресурсам или действиям в системе. В отличие от аутентификации (определения личности пользователя), авторизация отвечает на вопрос: **"Что пользователь может делать?"**.

Авторизация позволяет:
- Ограничивать доступ к приватным данным.
- Персонализировать взаимодействие пользователя с приложением.
- Увеличивать безопасность системы, защищая ресурсы от несанкционированного доступа.

Пример: После авторизации пользователь получает доступ к своему профилю, а не к профилям других пользователей.

---

#### **1. Забираем данные из формы**

В React данные, вводимые пользователем в форму, можно обрабатывать с помощью:
- Стандартного события `onSubmit`.
- Библиотек, таких как `Formik`, которые упрощают работу с формами.

В примере:
- Данные формы (имя пользователя и пароль) извлекаются из полей формы.
- При нажатии на кнопку отправки (`submit`) срабатывает функция `onSubmit`.

Код обработки формы:
```typescript
const formik = useFormik({
  initialValues: {
    username: '', // начальное значение для имени пользователя
    password: ''  // начальное значение для пароля
  },
  onSubmit: (values) => {
    // Передаем данные формы в функцию авторизации
    console.log(values);
  }
});
```

---

#### **2. Отправляем POST-запрос (отличие от GET)**

Для передачи данных на сервер используется метод HTTP `POST`. Это необходимо, так как:
- **POST** отправляет данные (например, логин и пароль) в теле запроса, что делает его безопаснее.
- **GET** передает данные через URL, что небезопасно для конфиденциальной информации.

Пример отправки POST-запроса:
```typescript
fetch('https://dummyjson.com/auth/login', {
  method: 'POST', // метод POST
  headers: { 'Content-Type': 'application/json' }, // указываем тип данных
  body: JSON.stringify({
    username: values.username,
    password: values.password
  })
})
  .then(res => res.json())
  .then(data => setUser(data)); // сохраняем данные пользователя
```

---

#### **3. Создаем контекст и передаем в него данные**

Контекст (`React Context`) — это механизм для передачи данных через дерево компонентов без необходимости передавать их через пропсы на каждом уровне.

**Создание контекста:**
1. Определяем контекст с помощью `createContext`.
2. Добавляем провайдер (`Provider`), который передает данные (в данном случае, данные пользователя) всем вложенным компонентам.

Код создания контекста:
```typescript
export const AuthContext = createContext<IAuthContextType | undefined>(undefined);

export const AuthProvider = ({ children }: { children: React.ReactNode }) => {
  const [user, setUser] = useState<IUser>(initialUser);

  return (
    <AuthContext.Provider value={{ user, setUser }}>
      {children}
    </AuthContext.Provider>
  );
};
```

---

#### **4. Данные пользователя доступны в любом месте**

Благодаря контексту, данные о текущем пользователе можно использовать в любом компоненте приложения, без необходимости пробрасывать их через пропсы.

Пример использования контекста:
```typescript
export const useAuth = () => {
  const context = useContext(AuthContext);
  if (!context) {
    throw new Error('no such context!');
  }
  return context;
};

// Получение данных о пользователе:
const { user, setUser } = useAuth();
```

Теперь в любом компоненте можно получить данные о пользователе и функции для их обновления.

---

### **Итог**
1. Пользователь вводит данные в форму.
2. Данные отправляются на сервер с помощью POST-запроса.
3. Сервер возвращает информацию о пользователе (например, `accessToken`).
4. Данные пользователя сохраняются в контексте, что делает их доступными для всего приложения.
