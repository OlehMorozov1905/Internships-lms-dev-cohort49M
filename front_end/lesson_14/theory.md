### Динамический роутинг в React

Динамический роутинг – это механизм, который позволяет определять маршруты с параметрами. Эти параметры используются для передачи данных через URL, что делает маршрутизацию гибкой и позволяет отображать страницы с контентом, зависящим от данных. Рассмотрим ключевые моменты динамического роутинга на примере предоставленного кода.

---

#### 1. **HashRouter**
Для маршрутизации используется компонент `HashRouter` из библиотеки `react-router-dom`. Этот компонент оборачивает приложение и добавляет хэш-часть (`#`) в URL, что позволяет работать с маршрутами даже без серверной конфигурации.

Пример:
```tsx
<HashRouter future={{ v7_startTransition: true, v7_relativeSplatPath: true }}>
  <Routes>
    {/* Маршруты */}
  </Routes>
</HashRouter>
```

---

#### 2. **Компонент Routes**
Компонент `Routes` используется для описания всех доступных маршрутов приложения. Он содержит внутри себя компоненты `Route`, которые определяют путь (`path`) и соответствующий компонент (`element`) для отображения.

---

#### 3. **Создание динамического маршрута**
Динамический маршрут отличается наличием параметра, обозначенного двоеточием (`:`). В примере это маршрут:
```tsx
<Route path="lesson-14/:id" element={<ProductPage />} />
```

Здесь `:id` является параметром, который можно извлечь и использовать в компоненте.

---

#### 4. **Извлечение параметра**
Для получения параметра маршрута используется хук `useParams` из библиотеки `react-router-dom`.

Пример:
```tsx
const { id } = useParams();
```

В данном случае, переменная `id` будет содержать значение, переданное в URL, например, для маршрута `/lesson-14/5` значение `id` будет равно `5`.

---

#### 5. **Запрос данных на основе параметра**
После извлечения параметра можно использовать его для запроса данных. В примере функция `getProduct` отправляет запрос на сервер с использованием `fetch`:

```tsx
const getProduct = (id: string) => {
  fetch(`https://fakestoreapi.com/products/${id}`)
    .then(res => res.json())
    .then(data => setProduct(data));
};
```

#### 6. **Отображение данных**
После загрузки данных продукт отображается на странице:
```tsx
return (
  <div className='lesson-container'>
    <h3>{product.title}</h3>
    <p>{product.description}</p>
    <img width={200} src={product.image} alt="" />
    <Link to={'../lesson-14'}>back to products</Link>
  </div>
);
```

### Преимущества
1. **Гибкость**: Позволяет использовать один компонент для отображения разных данных, основываясь на параметрах.
2. **Меньше кода**: Нет необходимости создавать отдельные маршруты для каждого уникального элемента.
3. **Удобная навигация**: Пользователь может использовать параметры URL для прямого перехода к нужному контенту.



